(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4154:function(e,t,s){Promise.resolve().then(s.bind(s,9713)),Promise.resolve().then(s.bind(s,2339)),Promise.resolve().then(s.bind(s,9302)),Promise.resolve().then(s.bind(s,5820)),Promise.resolve().then(s.t.bind(s,5878,23))},9713:function(e,t,s){"use strict";s.d(t,{default:function(){return c}});var r=s(7437),a=s(2265),n=s(2023),i=s(4887);function l(e){let{children:t}=e,[s,r]=(0,a.useState)(!1);return((0,a.useEffect)(()=>r(!0),[]),s)?(0,i.createPortal)(t,document.body):null}var o=s(5820);function c(e){let{message:t}=e,{open:s,lastActiveEl:i}=(0,o.I)();(0,a.useLayoutEffect)(()=>{let e=document.body,t=document.documentElement,r=e.style.overflow,a=t.style.overflow;return s?(e.style.overflow="hidden",t.style.overflow="hidden"):(e.style.overflow=r,t.style.overflow=a),()=>{e.style.overflow=r,t.style.overflow=a}},[s]);let c=(0,a.useRef)(null);return((0,a.useEffect)(()=>{var e,t,r;s?null===(e=c.current)||void 0===e||e.focus():null===(r=i.current)||void 0===r||null===(t=r.focus)||void 0===t||t.call(r)},[s,i]),s)?(0,r.jsx)(l,{children:(0,r.jsxs)("div",{ref:c,tabIndex:-1,role:"dialog","aria-modal":"true","aria-label":t,className:"fixed inset-0 z-[10000] h-[100dvh] w-[100dvw] bg-black/70 backdrop-blur-sm flex items-center justify-center",children:[(0,r.jsx)("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(ellipse_at_center,rgba(255,255,255,0.12),transparent_60%)]"}),(0,r.jsxs)("div",{className:"relative z-10 text-center space-y-8",children:[(0,r.jsx)("div",{className:"relative",children:(0,r.jsxs)("div",{className:"w-32 h-32 mx-auto relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 border-4 border-white/25 rounded-full animate-spin",style:{animationDuration:"2s"}}),(0,r.jsx)("div",{className:"absolute inset-4 bg-white/10 rounded-full animate-pulse"}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsx)(n.Z,{className:"w-12 h-12 text-white/90 animate-pulse"})})]})}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-white",children:t}),(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2","aria-hidden":"true",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-white rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,r.jsx)("div",{className:"w-2 h-2 bg-white rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,r.jsx)("div",{className:"w-2 h-2 bg-white rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),(0,r.jsx)("span",{className:"sr-only",children:"Loading…"}),(0,r.jsx)("p",{className:"text-white/75 text-sm",children:"Analyzing your text and crafting questions…"})]})]})]})}):null}},2339:function(e,t,s){"use strict";s.d(t,{default:function(){return L}});var r,a=s(7437),n=s(2265),i=s(6070),l=s(8736),o=s(8728),c=s(2023),d=s(4193),u=s(4508);let m=d.fC,f=n.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(d.aV,{ref:t,className:(0,u.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r})});f.displayName=d.aV.displayName;let x=n.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(d.xz,{ref:t,className:(0,u.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...r})});x.displayName=d.xz.displayName;let h=n.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(d.VY,{ref:t,className:(0,u.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r})});h.displayName=d.VY.displayName;var p=s(6815);let g=n.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("textarea",{className:(0,u.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...r})});g.displayName="Textarea";var v=s(5974),b=s(2869),j=s(5277),y=s(7689),N=s(257);let w=null;function k(){return(N.env.NEXT_PUBLIC_BASE_PATH||"").replace(/\/$/,"")}async function C(){w||(w=import("".concat(k(),"/pdf/pdf.mjs")));let e=await w;try{(null==e?void 0:e.GlobalWorkerOptions)&&!e.GlobalWorkerOptions.workerPort&&(e.GlobalWorkerOptions.workerPort=new Worker("".concat(k(),"/pdf/pdf.worker.min.mjs"),{type:"module"}))}catch(e){console.warn("[pdfjs] module worker init failed; will try without worker:",e)}return e}async function T(e){let t=((e.name||"upload").split(".").pop()||"").toLowerCase();if("txt"===t)return await e.text();let r=await e.arrayBuffer();if("pdf"===t){let e=await C(),t=async t=>{let s=e.getDocument(t),r=await s.promise,a="";for(let e=1;e<=r.numPages;e++){let t=await r.getPage(e);a+=((await t.getTextContent({normalizeWhitespace:!0,disableCombineTextItems:!1})).items.map(e=>"string"==typeof(null==e?void 0:e.str)?e.str:"").filter(Boolean).join(" ")+"\n").trim()+"\n"}return a.trim()};try{return await t({data:r})}catch(e){return console.warn("[pdfjs] worker read failed; retrying with disableWorker:",e),await t({data:r,disableWorker:!0})}}if("docx"===t){let e=await s.e(216).then(s.t.bind(s,5481,23)),t=await e.extractRawText({arrayBuffer:r});return(null==t?void 0:t.value)||""}throw Error("Unsupported file type: .".concat(t,". Supported: .pdf, .docx, .txt"))}function _(e){let{text:t,setText:s,uploadedFile:r,setUploadedFile:i,inputMethod:o,setInputMethod:c}=e,[d,u]=(0,n.useState)(!1),[N,w]=(0,n.useState)(null),k=(0,n.useCallback)(async e=>{var t;let r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){w(null),u(!0);try{i(r);let e=await T(r);s(e.slice(0,4e4))}catch(e){w((null==e?void 0:e.message)||"Could not read file")}finally{u(!1)}}},[i,s]);return(0,a.jsxs)("div",{className:"space-y-6 h-full flex flex-col",children:[(0,a.jsxs)(m,{value:o,onValueChange:c,className:"w-full",children:[(0,a.jsxs)(f,{className:"grid w-full grid-cols-2",children:[(0,a.jsxs)(x,{value:"paste",className:"flex items-center gap-2",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4"}),"Paste Text"]}),(0,a.jsxs)(x,{value:"upload",className:"flex items-center gap-2",children:[(0,a.jsx)(y.Z,{className:"h-4 w-4"}),"Upload File"]})]}),(0,a.jsx)(h,{value:"paste",className:"space-y-4 flex-1 flex flex-col",children:(0,a.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,a.jsx)(p._,{htmlFor:"text-input",children:"Academic Text"}),(0,a.jsx)(g,{id:"text-input",placeholder:"Paste your academic text here...",value:t,onChange:e=>s(e.target.value),className:"min-h-[350px] resize-none flex-1 custom-textarea"}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,a.jsxs)("span",{children:[t.length," characters"]}),(0,a.jsxs)("span",{children:[t.split(/\s+/).filter(Boolean).length," words"]})]})]})}),(0,a.jsx)(h,{value:"upload",className:"space-y-4 flex-1 flex flex-col",children:(0,a.jsxs)("div",{className:"space-y-4 flex-1",children:[(0,a.jsx)(p._,{children:"Upload Document"}),(0,a.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[(0,a.jsx)("input",{type:"file",id:"file-upload",accept:".pdf,.docx,.txt",onChange:k,className:"hidden"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto bg-muted rounded-full flex items-center justify-center",children:(0,a.jsx)(y.Z,{className:"h-8 w-8 text-muted-foreground"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(b.z,{variant:"outline",size:"sm",onClick:()=>{var e;return null===(e=document.getElementById("file-upload"))||void 0===e?void 0:e.click()},className:"mb-2 cursor-pointer",children:"Choose File"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"PDF, DOCX, TXT files supported"}),d&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Extracting text…"}),N&&(0,a.jsxs)("p",{className:"text-xs text-red-600",children:["Error: ",N]})]})]})]}),r&&(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:r.name}),(0,a.jsx)(v.C,{variant:"secondary",className:"ml-auto",children:"Uploaded"})]}),t&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)(p._,{children:"Extracted Text Preview"}),(0,a.jsxs)("div",{className:"mt-2 p-3 bg-muted rounded-lg max-h-32 overflow-y-auto text-sm",children:[t.substring(0,200),"..."]})]})]})})]}),(0,a.jsxs)("div",{className:"bg-muted/30 rounded-lg p-4 space-y-2",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-asu-maroon",children:"Tips for Better Questions:"}),(0,a.jsxs)("ul",{className:"text-sm text-muted-foreground space-y-1",children:[(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-asu-gold",children:"•"}),(0,a.jsx)("span",{children:"Ensure your text is at least 100 words for optimal question generation"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-asu-gold",children:"•"}),(0,a.jsx)("span",{children:"Include clear concepts, definitions, and examples in your text"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-asu-gold",children:"•"}),(0,a.jsx)("span",{children:"Academic papers, textbook chapters, and research articles work best"})]})]})]})]})}var E=s(7210),A=s(401);let S=n.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(E.fC,{ref:t,className:(0,u.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...r,children:(0,a.jsx)(E.z$,{className:(0,u.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(A.Z,{className:"h-4 w-4"})})})});S.displayName=E.fC.displayName;let P=n.forwardRef((e,t)=>{let{className:s,type:r,...n}=e;return(0,a.jsx)("input",{type:r,className:(0,u.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...n})});P.displayName="Input";var I=s(4991),O=s(1239),q=s(1671),R=s(1723);function z(e){let{textBasedQuestions:t,setTextBasedQuestions:s,inferentialQuestions:r,setInferentialQuestions:n,includeMainIdea:i,setIncludeMainIdea:l,selectedModel:o,setSelectedModel:d,qualityLevel:u,setQualityLevel:m,totalQuestions:f,canGenerate:x,isGenerating:h,onGenerate:g}=e,j=Math.max(0,f*("high"===u?15:10));return(0,a.jsxs)("div",{className:"h-full flex flex-col space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-4 flex-1",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"font-medium text-sm",children:"Question Types"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(p._,{htmlFor:"text-based",className:"text-sm",children:"Text-based"}),(0,a.jsx)(P,{id:"text-based",type:"number",min:"0",value:t,onChange:e=>s(Math.max(0,Number.parseInt(e.target.value)||0)),className:"w-16 h-8 custom-input"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Questions directly answered from the text"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(p._,{htmlFor:"inferential",className:"text-sm",children:"Inferential"}),(0,a.jsx)(P,{id:"inferential",type:"number",min:"0",value:r,onChange:e=>n(Math.max(0,Number.parseInt(e.target.value)||0)),className:"w-16 h-8 custom-input"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Questions requiring analysis beyond the text"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(S,{id:"main-idea",checked:i,onCheckedChange:e=>l(!!e)}),(0,a.jsx)(p._,{htmlFor:"main-idea",className:"text-sm",children:"Main Idea Question"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground ml-6",children:"One question about the central theme"})]})]}),(0,a.jsxs)("div",{className:"space-y-3 pt-3 border-t border-border",children:[(0,a.jsx)("h3",{className:"font-medium text-sm",children:"Settings"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p._,{className:"text-sm",children:"Quality & Speed"}),(0,a.jsxs)(I.E,{value:u,onValueChange:m,className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-2 rounded border border-gray-300 hover:bg-muted/50 cursor-pointer",onClick:()=>m("fast"),children:[(0,a.jsx)(I.m,{value:"fast",id:"fast"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)(p._,{htmlFor:"fast",className:"flex items-center gap-2 cursor-pointer text-sm",children:[(0,a.jsx)(O.Z,{className:"h-3 w-3 text-gray-600"}),(0,a.jsx)("span",{children:"Fast Generation"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Quick results, good quality"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-2 rounded border border-gray-300 hover:bg-muted/50 cursor-pointer",onClick:()=>m("high"),children:[(0,a.jsx)(I.m,{value:"high",id:"high"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)(p._,{htmlFor:"high",className:"flex items-center gap-2 cursor-pointer text-sm",children:[(0,a.jsx)(q.Z,{className:"h-3 w-3 text-gray-600"}),(0,a.jsx)("span",{children:"High Quality"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Best accuracy, slower"})]})]})]})]})]}),(0,a.jsxs)("div",{className:"pt-3 border-t border-border space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Total Questions:"}),(0,a.jsx)(v.C,{className:"bg-asu-gold text-black",children:f})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Est. Time:"}),(0,a.jsxs)("span",{className:"text-sm flex items-center gap-1",children:[(0,a.jsx)(R.Z,{className:"h-3 w-3"}),function(e){if(e<=120)return"".concat(e,"s");let t=Math.floor(e/60),s=e%60;return 0===s?"".concat(t," min"):"".concat(t," min ").concat(s," s")}(j)]})]})]})]}),(0,a.jsx)(b.z,{onClick:g,disabled:!x||h,size:"lg",className:"w-full min-w-[112px] px-8 py-3 bg-asu-maroon hover:bg-asu-maroon/90 text-white font-medium rounded-full transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:hover:scale-100 cursor-pointer",children:h?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-2","aria-hidden":"true"}),"Generate ",f]})})]})}var Z=s(166),D=s(5820);let F=(null!==(r=s(257).env.NEXT_PUBLIC_API_BASE)&&void 0!==r?r:"").replace(/\/$/,"");class Q extends Error{}async function M(e,t,s){var r;let a=null!==(r=null==s?void 0:s.timeoutMs)&&void 0!==r?r:0,n=new AbortController,i=a>0?setTimeout(()=>n.abort(),a):null;try{let r=await fetch("".concat(F).concat(e.startsWith("/")?e:"/".concat(e)),{method:"POST",headers:{"Content-Type":"application/json",...(null==s?void 0:s.headers)||{}},body:JSON.stringify(t),signal:n.signal});if(!r.ok){let e="";try{if((r.headers.get("content-type")||"").includes("application/json")){let t=await r.json();e="string"==typeof(null==t?void 0:t.error)?t.error:JSON.stringify(t).slice(0,300)}else e=(await r.text()).slice(0,300)}catch(e){}let t=new Q("HTTP ".concat(r.status).concat(e?": ".concat(e):""));throw t.code="HTTP_".concat(r.status),t.status=r.status,t.detail=e,t}try{return await r.json()}catch(t){let e=new Q("Invalid JSON from server");throw e.code="PARSE",e}}catch(t){if((null==t?void 0:t.name)==="AbortError"){let e=new Q("Request timed out");throw e.code="TIMEOUT",e}if(t instanceof Q)throw t;let e=new Q(navigator.onLine?"Network error or CORS blocked":"You appear to be offline");throw e.code="NETWORK",e}finally{i&&clearTimeout(i)}}let B=(0,Z.default)(()=>Promise.all([s.e(977),s.e(364)]).then(s.bind(s,8364)),{loadableGenerated:{webpack:()=>[8364]},ssr:!1,loading:()=>(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Loading questions…"})}),G={fact:"Text-based",inference:"Inferential",main_idea:"Main Idea"};function L(){let[e,t]=(0,n.useState)(""),[s,r]=(0,n.useState)(null),[d,u]=(0,n.useState)("paste"),{show:m,hide:f}=(0,D.I)(),[x,h]=(0,n.useState)(5),[p,g]=(0,n.useState)(3),[v,b]=(0,n.useState)(!0),[j,y]=(0,n.useState)("gpt-4"),[N,w]=(0,n.useState)("fast"),[k,C]=(0,n.useState)([]),[T,E]=(0,n.useState)(!1),[A,S]=(0,n.useState)(0),[P,I]=(0,n.useState)(null);(0,n.useEffect)(()=>{if(T||0===k.length&&!P)return;let e=document.getElementById("questions-section");if(!e)return;let t=()=>e.scrollIntoView({behavior:"smooth",block:"start"}),s=requestAnimationFrame(()=>requestAnimationFrame(t)),r=setTimeout(t,700);return()=>{cancelAnimationFrame(s),clearTimeout(r)}},[T,k.length,P]);let O=x+p+(v?1:0),q=(e.trim().length>50||!!s)&&O>0,R=async()=>{I(null),C([]),S(e=>e+1),m(),E(!0);try{let t=await M("/generate_mcq",{text:e,fact:x,inference:p,main_idea:v?1:0,quality_first:"high"===N?"yes":"no"}),s=[];if(Array.isArray(t)&&t.length>0&&t[0].mcq&&t[0].mcq_answer)s=t.map((e,t)=>Z(e,t));else if(Array.isArray(t)&&t.length>0&&t[0].system_prompt)throw Error("API returned unexpected format");else throw Error("API returned unknown format");C(s),E(!1),f()}catch(s){f(),console.error("Error generating questions:",s),E(!1);let e="Something went wrong generating questions.";if(s instanceof Q){var t;"NETWORK"===s.code?e="Cannot reach the generator. Check your internet connection (or CORS).":(null===(t=s.code)||void 0===t?void 0:t.startsWith("HTTP_"))?e="Generator error ".concat(s.status).concat(s.detail?" — ".concat(s.detail):""):"PARSE"===s.code?e="Generator returned invalid JSON.":"TIMEOUT"===s.code&&(e="This took too long and was aborted.")}else s instanceof Error&&s.message&&(e=s.message);I(e)}},Z=(e,t)=>{var s,r;let a=e.mcq,n=e.mcq_answer,i="string"==typeof e.explanation?e.explanation:"",l=null!==(r=G[String(null!==(s=e.question_type)&&void 0!==s?s:"").toLowerCase()])&&void 0!==r?r:"Text-based",o="",c=[],d=a.split(/\s*[A-D]\)\s*/);if(d.length>=2){o=d[0].trim();for(let e=1;e<d.length&&c.length<4;e++){let t=d[e].trim();t&&c.push(t)}}if(0===c.length){let e=a.match(RegExp("^(.*?)(?=\\s*[A-D]\\))","s"));e&&(o=e[1].trim());let t=a.match(RegExp("[A-D]\\)\\s*([^A-D]*?)(?=\\s*[A-D]\\)|$)","gs"));t&&(c=t.map(e=>e.replace(/^[A-D]\)\s*/,"").trim()).filter(e=>e.length>0))}o&&(o=o.replace(/^(?:Q\d+:|Question\s+\d+:)\s*/i,"").trim()),o&&0!==c.length||(o=a,c=["Option A","Option B","Option C","Option D"]);let u=-1;if(n){let e=n.trim(),t=e.match(/^([A-D])\b/);if(t&&(u=t[1].charCodeAt(0)-65),-1===u){let t=e.match(/^([A-D])\)/);t&&(u=t[1].charCodeAt(0)-65)}if(-1===u){let t=e.match(/Answer:\s*([A-D])/i);t&&(u=t[1].toUpperCase().charCodeAt(0)-65)}if(-1===u){let t=e.toLowerCase().trim();for(let e=0;e<c.length;e++){let s=c[e].toLowerCase().trim();if(s===t||s.includes(t)||t.includes(s)){u=e;break}}}}return{id:t+1,type:l,question:o,options:c,correct:u,explanation:i||"No explanation was provided by the generator."}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)(i.Zb,{className:"h-full",children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsxs)(i.ll,{className:"flex items-center gap-2 text-asu-maroon",children:[(0,a.jsx)(l.Z,{className:"h-5 w-5"}),"Input Academic Text"]}),(0,a.jsx)(i.SZ,{children:"Choose how you want to input your academic text for question generation"})]}),(0,a.jsx)(i.aY,{className:"space-y-6 h-full flex flex-col",children:(0,a.jsx)(_,{text:e,setText:t,uploadedFile:s,setUploadedFile:r,inputMethod:d,setInputMethod:u})})]})}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)(i.Zb,{className:"h-full",children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsxs)(i.ll,{className:"flex items-center gap-2 text-asu-maroon",children:[(0,a.jsx)(o.Z,{className:"h-5 w-5"}),"Configuration"]}),(0,a.jsx)(i.SZ,{children:"Customize your question settings"})]}),(0,a.jsx)(i.aY,{className:"space-y-4 h-full flex flex-col",children:(0,a.jsx)(z,{textBasedQuestions:x,setTextBasedQuestions:h,inferentialQuestions:p,setInferentialQuestions:g,includeMainIdea:v,setIncludeMainIdea:b,selectedModel:j,setSelectedModel:y,qualityLevel:N,setQualityLevel:w,totalQuestions:O,canGenerate:q,isGenerating:T,onGenerate:R})})]})})]}),(0,a.jsxs)("div",{id:"questions-section","data-questions-section":!0,className:"w-full mt-8 scroll-mt-24 md:scroll-mt-28",children:[P&&(0,a.jsx)("div",{className:"mb-4 rounded-md border border-red-300 bg-red-50 text-red-800 p-3 text-sm",children:P}),0===k.length?(0,a.jsxs)("div",{className:"border border-border rounded-lg p-8 text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 mx-auto mb-3 bg-muted rounded-full flex items-center justify-center",children:(0,a.jsx)(c.Z,{className:"h-6 w-6 text-muted-foreground"})}),(0,a.jsx)("h3",{className:"font-medium text-muted-foreground",children:"No questions yet"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:["Add your text and click Generate","number"==typeof O?" (".concat(O," planned)"):"","."]})]}):(0,a.jsx)(B,{questions:k,totalQuestions:O},A)]})]})}},9302:function(e,t,s){"use strict";s.d(t,{default:function(){return l}});var r=s(7437),a=s(7648),n=s(9376),i=s(4508);function l(e){let{href:t,children:s,className:l}=e,o=(0,n.usePathname)();return(0,r.jsx)(a.default,{href:t,className:(0,i.cn)("relative px-2 py-1 text-sm text-muted-foreground hover:text-asu-maroon transition-colors","after:absolute after:left-0 after:right-0 after:-bottom-[2px] after:h-[2px] after:rounded-full after:bg-transparent","hover:after:bg-asu-maroon",o===t&&"text-asu-maroon after:bg-asu-maroon",l),children:s})}},5820:function(e,t,s){"use strict";s.d(t,{I:function(){return l},OverlayProvider:function(){return i}});var r=s(7437),a=s(2265);let n=(0,a.createContext)(null);function i(e){let{children:t}=e,[s,i]=(0,a.useState)(!1),l=(0,a.useRef)(null);return(0,r.jsx)(n.Provider,{value:{open:s,show:()=>{var e;l.current=null!==(e=document.activeElement)&&void 0!==e?e:null,i(!0)},hide:()=>i(!1),lastActiveEl:l},children:t})}function l(){let e=(0,a.useContext)(n);if(!e)throw Error("useOverlay must be used within OverlayProvider");return e}},5974:function(e,t,s){"use strict";s.d(t,{C:function(){return l}});var r=s(7437),a=s(535),n=s(4508);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)(i({variant:s}),t),...a})}},2869:function(e,t,s){"use strict";s.d(t,{d:function(){return l},z:function(){return o}});var r=s(7437);s(2265);var a=s(7053),n=s(535),i=s(4508);let l=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:s,size:n,asChild:o=!1,...c}=e,d=o?a.g7:"button";return(0,r.jsx)(d,{"data-slot":"button",className:(0,i.cn)(l({variant:s,size:n,className:t})),...c})}},6070:function(e,t,s){"use strict";s.d(t,{Ol:function(){return i},SZ:function(){return o},Zb:function(){return n},aY:function(){return c},ll:function(){return l}});var r=s(7437);s(2265);var a=s(4508);function n(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...s})}function i(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...s})}function l(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",t),...s})}function o(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",t),...s})}function c(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",t),...s})}},6815:function(e,t,s){"use strict";s.d(t,{_:function(){return c}});var r=s(7437),a=s(2265),n=s(3771),i=s(535),l=s(4508);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.f,{ref:t,className:(0,l.cn)(o(),s),...a})});c.displayName=n.f.displayName},4991:function(e,t,s){"use strict";s.d(t,{E:function(){return o},m:function(){return c}});var r=s(7437),a=s(2265),n=s(2854),i=s(519),l=s(4508);let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.fC,{className:(0,l.cn)("grid gap-2",s),...a,ref:t})});o.displayName=n.fC.displayName;let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.ck,{ref:t,className:(0,l.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...a,children:(0,r.jsx)(n.z$,{className:"flex items-center justify-center",children:(0,r.jsx)(i.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})})});c.displayName=n.ck.displayName},4508:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var r=s(1994),a=s(3335);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.m6)((0,r.W)(t))}}},function(e){e.O(0,[609,181,205,971,117,744],function(){return e(e.s=4154)}),_N_E=e.O()}]);